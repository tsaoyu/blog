---
layout: post
title:  "Lessons learnt from WRSC 2019"
date:   2019-09-03 11:04:01
categories: [Robotics & AI]
---

World Robotics Sailing Championship (WRSC) 2019 is the 12th edition in its history and it is my fourth attendance to this event. Previously, I was competing from 2016 to 2018 with Team Southampton, a student team devoted to developing an open-source sailing robot. The team goes really well during the last couple of years and we decided to host the competition at Southampton in 2018. The experience gained from both technical and orgnisational aspects motivated me to bring this competition to China. With the help of partners at Zhejiang University and support from the city of Ningbo, we managed to host the biggest event in WRSC history. Even it is the first time that the competition is hosted outside Europe and U.S., there are more U.K. teams participated than it was at Southampton. However,  there are still many imperfections in this year's competition. Whilst celebrating the achievement with 22 teams who managed to take part in the competition, there are some valuable lessons I learned from WRSC 2019.

Let's start from the positive side of the story. This year's event attracts more than 20 teams to compete and many of them are first time player. The total effort behind this number is largely attributed to Prof. Xu Chao's commitment to this event. He changed his IM account to [roboticsailing.org](http://roboticssailing.org) and worked as custom service 24/7 to encourage teams to participate in this year's competition. On the technical side, the Team Southampton open-source code and the standard ready-to-sail kit has lower the entry barrier for many teams. I have been invited to give a talk on the basic concepts in sailing and the use of Southampton code in last Christmas. This allows teams to focus on the development of their racing strategy instead of painstakingly converting RC boats into an autonomous one.  

Differential GPS trackers have been used in our tracking system, increase the localisation accuracy from ~10 m to 1~5 cm level. This technology relies on the land-based GPS offset correction network service â€” Qian Xun. With a good GPS and 4G network, those trackers are able to transmit high precision location data to the server and save the GPS coordinates locally. It is possible to record the position of the boat and buoy at higher accuracy during the challenges. However, those trackers are not that reliable with the its initial firmware. On board memory is limited so 
our tracking system team had to limit the single-use time to one hour as a compromise to data log reliability.
Lizi Wang and his tracking team have spent a lot of time to ask teams to submit their own tracking data when official data is missing. The land-based correction service is only available at China and several Asian countries.  There is a huge room to improve the DGPS tracker for next year's competition. 

Lizi and I followed a color convention for this year's WRSC, this helps a lot to offload common tasks from both of us, allowing at least one of us to freely monitor the progress of the competition. There are four main colors to show the role of volunteers, red is chief referee, yellow is pontoon officer, and green is tracker officers. The rule is as simple as traffic lights. When there is anything emergent that stops you from competing, the team shall speak to one of two chief referees who wear red. Otherwise, the team shall register their attempt in each challenge to tracker officers in green. They will wait to the called by the pontoon officer and allowed to start their race. The yellow and green team use walky-talky to inform each other there is a team coming for the attempt and online spreadsheet was used to log the start and stop time of each attempt. I would recommend whoever is interested in host next year's competition to use this color convention, otherwise, you will find yourself dealing with every single task because you are the only one that competing team is familiar with. 

The permissive culture of the WRSC is still well maintained. Teams are allowed to make multiple attempts and use the best as their result. We saw teams sharing hardware, exchanging ideas and even soldering electronics for each other. Knowledge sharing on software is not as common as hardware, partly due to the key competitive advantage is the race strategy coded there. Open-source software is widely used but the contribution from the teams is very limited. Language barrier and culture difference might be a reason why teams do not keen to share their improvements.   

Logistic is always a headache to WRSC and the long haul flight to China pose a huge challenge to European teams. Two out of three U.K. teams lost their boat during the transit and the boat arrived a day after the competition start. The risk of boat transportation during international travel limit the WRSC in many ways. First of all, teams tend to carrier smaller boat that can be taken on the airplane. Boats are getting smaller and smaller in recent years and the sailboat class disappeared in this year's competition. Secondly,  part of the competition is about reliable logistics for international teams. The competition actually starts from the time when the boat is dropped at the airport. It is reasonable to suggest the team to arrive at least a day before the competition if there travel has a transit in between. 

Competition workshop and hotel of this year's WRSC are at the top of the bar. However, the competition area is too small and not windy enough. The lake itself is located in the city so the wind is shielded by the nearby trees and buildings. It would be much better if the competition is hosted in  a larger open area. 

According to our post-competition survey, the performance of the online tracking website is under the expectation. When 20 trackers all trying to talk to the server, the tracking webpage becomes not responsive. What makes it worse is the law in China restricts the map provider using WGS-84 datum. Most maps in China are GCJ-02 datum that has an offset to the WGS-84 coordinates reported by the trackers. It is quite frustrating to see the boat sailing on the land. During the competition, we use Google Earth to pick up the waypoints for each challenge and Open Street Map (OSM) to display the boat trace. Google Earth project the satellite image using WGS-84 datum but Google Maps does not. OSM seems to neglected Chinese law and display the map in WGS-84.

{% maincolumn  'assets/img/wrsc2019/wgs_offset.png' 'Map offset on Google map'%}

There are some discussions in replacing the paid Google maps by the OSM. Now there is one more vote for OSM due to the correct display of WGS-84 coordinates at China. The tracking system issue also reflects the lack of technical improvements during the year. There is no centralised organisation to steer the technical development of the WRSC. How could we maintain a group of professionals to improve the key systems (tracking, scoring and queuing) in a sustainable way?